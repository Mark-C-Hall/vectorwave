datasource db {
    provider     = "mysql"
    url          = env("DATABASE_URL")
    relationMode = "prisma"
}

generator client {
    provider = "prisma-client-js"
}

model Conversation {
    id       String    @id @default(cuid())
    userId   String
    title    String
    messages Message[]

    @@index([userId], name: "userIdIndex")
}

model Message {
    id             String       @id @default(cuid())
    createdAt      DateTime     @default(now())
    content        String       @db.Text
    isFromUser     Boolean
    conversationId String
    conversation   Conversation @relation(fields: [conversationId], references: [id])

    @@index([conversationId], name: "conversationIdIndex")
}
